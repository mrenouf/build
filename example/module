cc_library(
  name="foo",
  static=True,
  sources=["foo.c"],
  cross='avr',
  cflags="-I/usr/lib/avr/include -D__AVR_ATmega2560__ -DF_CPU=$(AVR_FREQ)",
  deps=[":bar"]
)

cc_library(
  name="bar",
  static=False,
  sources=["bar.c"],
  cross='avr',
  cflags="-I/usr/lib/avr/include -D__AVR_ATmega2560__ -DF_CPU=$(AVR_FREQ)"
)

cc_executable(
  name="baz",
  sources=["main.c"],
  cross='avr',
  deps=[":foo", ":bar"]
)

