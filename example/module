avr_cpu = 'atmega2560'
avr_clock = 16000000

avr_library(
    name="foo",
    sources=["foo.c"],
    mcu='atmega2560',
)

avr_library(
    name="bar",
    sources=["bar.c"],
    mcu='atmega2560',
    deps=[":foo"]
)

avr_binary(
    name="baz",
    sources=["main.c"],
    mcu='atmega2560',
    deps=[":bar"]
)

